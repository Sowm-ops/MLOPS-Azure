schema: '2.0'
stages:
  prepare_data:
    cmd: python src/data_prep.py
    deps:
    - path: IMDB Dataset.csv
      hash: md5
      md5: 325be553cb5850b6e67a01e716c3b3e8
      size: 66262310
    - path: heart.csv
      hash: md5
      md5: f1800e98a8507551de5873226be1682b
      size: 11325
    - path: params.yaml
      hash: md5
      md5: ea281a5c08ecf3a1de2ba13307183b95
      size: 793
    - path: src/data_prep.py
      hash: md5
      md5: 51e3a01de20546fdaa2dbd7560e570a7
      size: 5228
    outs:
    - path: data/heart_scaler.pkl
      hash: md5
      md5: dd6ef74766e34004148233c41dc858e9
      size: 1263
    - path: data/heart_test.csv
      hash: md5
      md5: 9a0ace63a68b24cb9f9b2adef683c62c
      size: 15799
    - path: data/heart_train.csv
      hash: md5
      md5: f0b9efa9c69901033fe7a163b31ed2cb
      size: 62394
    - path: data/imdb_test.csv
      hash: md5
      md5: 18d5ff8a2d440e080282672f1f0f9b59
      size: 77866475
    - path: data/imdb_train.csv
      hash: md5
      md5: 419f7bafbf5f1d19439e46667ceb3622
      size: 311776803
    - path: data/imdb_vectorizer.pkl
      hash: md5
      md5: fec544d079988afb8b4ec70ca46515e6
      size: 54748
  train_model:
    cmd: python src/train.py
    deps:
    - path: data/heart_scaler.pkl
      hash: md5
      md5: dd6ef74766e34004148233c41dc858e9
      size: 1263
    - path: data/heart_test.csv
      hash: md5
      md5: 9a0ace63a68b24cb9f9b2adef683c62c
      size: 15799
    - path: data/heart_train.csv
      hash: md5
      md5: f0b9efa9c69901033fe7a163b31ed2cb
      size: 62394
    - path: data/imdb_test.csv
      hash: md5
      md5: 18d5ff8a2d440e080282672f1f0f9b59
      size: 77866475
    - path: data/imdb_train.csv
      hash: md5
      md5: 419f7bafbf5f1d19439e46667ceb3622
      size: 311776803
    - path: data/imdb_vectorizer.pkl
      hash: md5
      md5: fec544d079988afb8b4ec70ca46515e6
      size: 54748
    - path: params.yaml
      hash: md5
      md5: ea281a5c08ecf3a1de2ba13307183b95
      size: 793
    - path: src/train.py
      hash: md5
      md5: 73062852a0eeafc13498e8bb909d1f34
      size: 6605
    params:
      params.yaml:
        data.heart_label_column: target
        data.label_column: sentiment
        models.gbm:
          enabled: true
          params:
            learning_rate:
            - 0.01
            - 0.1
            max_depth:
            - 3
            - 5
            n_estimators:
            - 5
            - 10
        models.linearsvc:
          enabled: true
          params:
            C:
            - 0.1
            - 1
        models.lr:
          enabled: true
          params:
            C:
            - 0.1
            - 1
        models.xgb:
          enabled: true
          params:
            learning_rate:
            - 0.01
            - 0.2
            max_depth:
            - 3
            - 5
            n_estimators:
            - 5
            - 10
        preprocess.text.max_words: 1500
        train.cv_folds: 3
        train.random_state: 42
        train.sample_size: 5000
        train.test_size: 0.2
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 700c2ef44f30602b732514f695ae9f80
      size: 92
    - path: models/
      hash: md5
      md5: 01a4c3705805fdc45086efbd482a0881.dir
      size: 97960
      nfiles: 4
